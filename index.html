<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Avee-like Media Player (PHP/XAMPP)</title>
  <link rel="stylesheet" href="assets/style.css?v=20251020-2">
  <script src="https://cdn.jsdelivr.net/npm/jsmediatags@3.9.7/dist/jsmediatags.min.js"></script>
</head>
<body>
  <header>
    <h1>Avee-like Media Player</h1>
  </header>

  <main>
    <div id="app" class="app-grid">
      <!-- Library Sidebar -->
      <aside class="sidebar library">
        <div class="toolbar">
          <input type="text" id="search" placeholder="Search library..." />
          <button id="rescan" title="Rescan music folder">Rescan</button>
          <label class="upload-btn" title="Upload audio files">
            Upload
            <input type="file" id="upload-input" accept="audio/*" multiple />
          </label>
        </div>
        <div class="toolbar">
          <input type="url" id="import-url" placeholder="Import audio URL (e.g., Dropbox direct link)" />
          <button id="import-url-btn" title="Download from URL">Import</button>
        </div>
        <div class="toolbar">
          <button id="connect-dropbox" class="btn">Connect Dropbox</button>
          <button id="connect-google" class="btn">Connect Google Drive</button>
        </div>
        <ul id="library-list" class="list"></ul>
        <div style="margin-top:0.6rem;">
          <h4 style="margin:0.4rem 0;">Cloud Files</h4>
          <ul id="cloud-list" class="list"></ul>
        </div>
      </aside>

      <!-- Player Core -->
      <section class="player-core">
        <div class="art-and-info">
          <div id="art" class="art"></div>
          <div class="track-info">
            <div id="track-title" class="track-title">â€”</div>
            <div id="track-time" class="track-time">0:00 / 0:00</div>
          </div>
        </div>

        <canvas id="viz" width="960" height="300"></canvas>

        <div class="controls">
          <button id="prev" class="btn">Prev</button>
          <button id="play" class="btn primary">Play</button>
          <button id="next" class="btn">Next</button>
          <button id="shuffle" class="btn" title="Shuffle">Shuffle</button>
          <button id="repeat" class="btn" title="Repeat">Repeat</button>

          <div class="slider-group">
            <label>Volume</label>
            <input type="range" id="volume" min="0" max="1" step="0.01" value="0.9"/>
          </div>

          <div class="slider-group">
            <label>Speed</label>
            <input type="range" id="rate" min="0.5" max="2" step="0.01" value="1"/>
          </div>

          <button id="pitch-lock" class="btn" title="Preserve pitch when changing speed">Pitch Lock</button>

          <button id="record" class="btn" title="Record visualizer">Record</button>
        </div>

        <div class="customize">
          <div class="viz-style">
            <label>Visualizer</label>
            <select id="viz-style">
              <option value="bars">Bars</option>
              <option value="wave">Wave</option>
              <option value="mirror">Mirror Bars</option>
              <option value="ring">Ring Wave</option>
              <option value="radial">Radial Bars</option>
              <option value="particles">Particles</option>
              <option value="circle">Circle</option>
            </select>
          </div>
          <div class="viz-colors">
            <label>Colors</label>
            <input type="color" id="viz-color-1" value="#19d3ae"/>
            <input type="color" id="viz-color-2" value="#1e90ff"/>
          </div>
          <div class="viz-options">
            <label><input type="checkbox" id="viz-glow" checked/> Glow</label>
            <label><input type="checkbox" id="viz-trail" checked/> Trail</label>
            <label><input type="checkbox" id="viz-art" checked/> Center Art</label>
          </div>
          <div class="viz-tuning">
            <label>Rotation <input type="range" id="viz-rot" min="0" max="3" step="0.01" value="0.6"></label>
            <label>Decay <input type="range" id="viz-decay" min="0.7" max="0.99" step="0.001" value="0.92"></label>
            <label>Thickness <input type="range" id="viz-thickness" min="0.5" max="3" step="0.01" value="1"></label>
            <label>Ring Fill <input type="range" id="viz-ring-floor" min="0" max="0.3" step="0.01" value="0.16"></label>
            <label>Glow Strength <input type="range" id="viz-glow-strength" min="0" max="24" step="1" value="12"></label>
            <label>Trail Alpha <input type="range" id="viz-trail-alpha" min="0" max="0.3" step="0.01" value="0.08"></label>
            <label>Spike Scale <input type="range" id="viz-spike-scale" min="0.5" max="2" step="0.01" value="1"></label>
            <label>Wave Scale <input type="range" id="viz-wave-scale" min="0.5" max="2" step="0.01" value="1"></label>
          </div>
          <div class="presets">
            <input type="text" id="preset-name" placeholder="Preset name"/>
            <button id="save-viz-preset" class="btn">Save Viz Preset</button>
            <button id="save-eq-preset" class="btn">Save EQ Preset</button>
            <select id="preset-list"></select>
            <button id="apply-preset" class="btn">Apply Preset</button>
            <button id="delete-preset" class="btn">Delete Preset</button>
          </div>
        </div>

        <div class="eq-header">
          <span>Equalizer</span>
          <select id="eq-preset">
            <option value="flat">Flat</option>
            <option value="pop">Pop</option>
            <option value="rock">Rock</option>
            <option value="jazz">Jazz</option>
            <option value="bass">Bass Boost</option>
            <option value="treble">Treble Boost</option>
          </select>
          <button id="eq-toggle" class="btn">Show/Hide</button>
        </div>

        <div id="eq-panel" class="eq-panel">
          <div class="bands">
            <div class="band"><label>31</label><input type="range" data-band="0" min="-12" max="12" step="0.5" value="0"/></div>
            <div class="band"><label>62</label><input type="range" data-band="1" min="-12" max="12" step="0.5" value="0"/></div>
            <div class="band"><label>125</label><input type="range" data-band="2" min="-12" max="12" step="0.5" value="0"/></div>
            <div class="band"><label>250</label><input type="range" data-band="3" min="-12" max="12" step="0.5" value="0"/></div>
            <div class="band"><label>500</label><input type="range" data-band="4" min="-12" max="12" step="0.5" value="0"/></div>
            <div class="band"><label>1k</label><input type="range" data-band="5" min="-12" max="12" step="0.5" value="0"/></div>
            <div class="band"><label>2k</label><input type="range" data-band="6" min="-12" max="12" step="0.5" value="0"/></div>
            <div class="band"><label>4k</label><input type="range" data-band="7" min="-12" max="12" step="0.5" value="0"/></div>
            <div class="band"><label>8k</label><input type="range" data-band="8" min="-12" max="12" step="0.5" value="0"/></div>
            <div class="band"><label>16k</label><input type="range" data-band="9" min="-12" max="12" step="0.5" value="0"/></div>
          </div>
        </div>
      </section>

      <!-- Playlists Sidebar -->
      <aside class="sidebar playlists">
        <div class="toolbar">
          <input type="text" id="new-playlist-name" placeholder="New playlist name"/>
          <button id="create-playlist">Create</button>
        </div>
        <div class="toolbar">
          <input type="text" id="smart-name" placeholder="Smart name"/>
          <input type="text" id="smart-contains" placeholder="Name contains"/>
          <input type="text" id="smart-exts" placeholder="Exts (e.g. mp3,ogg)"/>
          <input type="text" id="smart-folder" placeholder="Folder prefix"/>
          <input type="number" id="smart-minmb" placeholder="Min MB" min="0"/>
          <input type="number" id="smart-maxmb" placeholder="Max MB" min="0"/>
          <button id="create-smart">Create Smart</button>
        </div>
        <ul id="playlists" class="list"></ul>
        <div id="playlist-details" class="playlist-details">
          <h3 id="playlist-title">Playlist</h3>
          <ul id="playlist-tracks" class="list tracks"></ul>
          <div class="toolbar" style="margin-top:0.6rem;">
            <button id="add-current" class="btn" title="Add currently playing track to selected playlist">Add Current Track</button>
            <button id="delete-playlist" class="btn" title="Delete selected playlist">Delete Playlist</button>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 Avee-like Player (PHP)</p>
  </footer>

  <script src="assets/js/utils.js?v=20251020-2"></script>
  <script src="assets/js/equalizer.js?v=20251020-2"></script>
  <script src="assets/js/visualizer.js?v=20251020-2"></script>
  <script src="assets/js/playlists.js?v=20251020-2"></script>
  <script src="assets/js/settings.js?v=20251020-2"></script>
  <script src="assets/js/cloud.js?v=20251020-2"></script>
  <script src="assets/script.js?v=20251020-2"></script>
  <script src="assets/js/app.js?v=20251020-2"></script>
</body>
</html>